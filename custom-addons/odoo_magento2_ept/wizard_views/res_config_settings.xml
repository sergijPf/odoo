<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Magento Configuration Setting -->
        <!-- Form View Section -->
        <record id="view_magento_res_config_settings_ept" model="ir.ui.view">
            <field name="name">Magento Settings</field>
            <field name="model">res.config.settings</field>
            <field name="inherit_id" ref="base.res_config_settings_view_form" />
            <field name="arch" type="xml">
                <xpath expr="//div[hasclass('settings')]" position="inside">
                    <div class="app_settings_block" data-string="Magento" data-key="odoo_magento2_ept" groups="odoo_magento2_ept.group_magento_manager_ept">
                        <div name="description_config">
                        <h2 style="font-size:25px;background-color:#e9ecef;">
                            Magento Dashboard Configuration
                        </h2>
                        <div class="row mt16 o_settings_container">
                            <div class="col-xs-12 col-md-6 o_setting_box">
                                <div>
                                    <div>
                                        <label for="dashboard_view_type"/>
                                        <field name="dashboard_view_type" widget="selection" class="oe_inline" required="1" />
                                        <div class="text-muted" id="sale_coupon">
                                            Dashboard Will Display Data Based On Dashboard Type.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                        <h2 style="font-size:25px;background-color:#e9ecef;">Magento Instances
                        </h2>
                        <div class="row mt16 o_settings_container">
                            <div class="col-xs-12 col-md-6 o_setting_box">
                                <label for="magento_instance_id" string="Select Instance"/>
                                <div>
                                    <div>
                                        <field name="magento_instance_id" widget="selection"
                                               attrs="{'required':[('magento_instance_id','!=',False)]}" class="oe_inline" />
                                        <button string="Create More Instances" icon="fa-arrow-right"
                                            name="%(odoo_magento2_ept.res_config_action_magento_instance_ept)d" type="action"
                                            class="oe_link" />
                                    </div>
                                </div>
                            </div>
                        </div>

                        <field name="magento_version" invisible="1"/>
                        <h2 style="font-size:25px;background-color:#e9ecef;" attrs="{'invisible': [('magento_instance_id', '=', False)]}">Product</h2>
                        <div class="row mt16 o_settings_container" attrs="{'invisible': [('magento_instance_id', '=', False)]}">
                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_right_pane">
                                    <label for="catalog_price_scope" string="Catalog price scope"/>
                                    <field name="catalog_price_scope"  class="oe_inline" attrs="{'required':[('magento_instance_id','!=', False)]}"  readonly="1"/>
                                    <div class="text-muted" id="sale_coupon">
                                        Scope of Price in Magento
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_right_pane" attrs="{'invisible': [('catalog_price_scope', '=', 'website')]}">
                                    <label for="pricelist_id" string="Pricelist" />
                                    <field name="pricelist_id"  class="oe_inline"  attrs="{'required':[('magento_instance_id','!=', False), ('catalog_price_scope', '!=', 'website')]}" />
                                    <div class="text-muted" id="sale_coupon">
                                        Product price will be taken/set from this pricelist if Catalog Price Scope is global
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_left_pane">
                                    <field name="auto_create_product" widget="boolean_toggle"/>

                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="auto_create_product" />
                                    <div class="text-muted">
                                        - This option creates a new product in your Odoo catalog
                                        if system couldn't find the product based on SKU /
                                        Internal Reference / Default Product Code.
                                        <br/>
                                        - If you are selling on multiple sales channels and
                                        having different SKU / Internal Reference / Default
                                        Product Code on each sales channel, it may lead to
                                        creation of duplicate products in your product catalogue
                                        in your database.
                                        <br/>
                                        - So we request you to enable this option, as per
                                        your product catalogue configuration.
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_left_pane">
                                    <field name="allow_import_image_of_products" widget="boolean_toggle"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="allow_import_image_of_products" string="Import Products with Images?"/>
                                    <div class="text-muted" id="allow_import_image_of_products">
                                        If checked, import product images along with product from Magento while import products.
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_right_pane">
                                    <label for="import_product_category" string="Product Category" />
                                    <field name="import_product_category"
                                           attrs="{'required':[('magento_instance_id','!=',False)]}"
                                           class="oe_inline" />
                                    <div class="text-muted" id="import_product_category">
                                        The selected category will set in that product.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <h2 style="font-size:25px;background-color:#e9ecef;" attrs="{'invisible': [('magento_instance_id', '=', False)]}">Order</h2>
                        <div class="row mt16 o_settings_container" attrs="{'invisible': [('magento_instance_id', '=', False)]}">
                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_right_pane">
                                    <label for="import_magento_order_status_ids"/>
                                    <div class="text-muted">
                                        Select order status which you want to import in odoo
                                    </div>
                                    <div class="content-group">
                                        <div class="mt16">
                                            <field name="import_magento_order_status_ids"
                                                   widget="many2many_tags"
                                                   attrs="{'required':[('magento_instance_id','!=',False)]}"
                                                   options="{'no_create':True,'no_create_edit': True}"
                                                   class="oe_inline"/>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_left_pane">
                                    <field name="invoice_done_notify_customer" widget="boolean_toggle"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="invoice_done_notify_customer" string="Notify customer when export invoice?" />
                                    <div class="text-muted" id="sale_coupon">
                                        if checked,it will send email to the customer while Invoice is created in Magento.
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-md-6 o_setting_box">
                                <div class="o_setting_right_pane">
                                    <label for="import_order_after_date" string="Import Order After Date"/>
                                    <div class="text-muted">
                                    System will import only those orders which are created
                                    after this configured date.
                                    </div>
                                    <div class="content-group">
                                        <div class="mt16">
                                            <field name="import_order_after_date"
                                            attrs="{'required':[('magento_instance_id','!=',False)]}"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
<!--                            <div class="col-12 col-lg-6 o_setting_box">-->
<!--                                <div class="o_setting_left_pane">-->
<!--                                    <field name="is_export_dropship_picking" widget="boolean_toggle"/>-->
<!--                                </div>-->
<!--                                <div class="o_setting_right_pane">-->
<!--                                    <label for="is_export_dropship_picking" string="Export 'Drop-ship' shipment details?" />-->
<!--                                    <div class="text-muted" id="sale_coupon">-->
<!--                                        Check if you want to export Drop-ship order shipping details from Odoo to Magento; otherwise, not.-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
                        </div>
                        <h2 style="font-size:25px;background-color:#e9ecef;" attrs="{'invisible': [('magento_instance_id', '=', False)]}">Inventory</h2>
                        <div class="row mt16 o_settings_container" attrs="{'invisible': [('magento_instance_id', '=', False)]}">
                            <div class="col-12 col-lg-6 o_setting_box" attrs="{'invisible': [('magento_version', 'in', ['2.1','2.2'])]}">
                                <div class="o_setting_left_pane">
                                    <field name="is_multi_warehouse_in_magento" widget="boolean_toggle"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="is_multi_warehouse_in_magento"/>
                                    <div class="text-muted" id="sale_coupon">
                                        If checked, Multi Inventory Sources are used in Magento to keep product stock
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 o_setting_box" attrs="{'invisible': [('is_multi_warehouse_in_magento', '=', True)]}">
                                <div class="o_setting_right_pane">
                                    <label for="warehouse_ids" string="Warehouses"/>
                                    <field name="warehouse_ids" class="oe_inline" attrs="{'required':[('magento_instance_id','!=', False), ('is_multi_warehouse_in_magento', '=', False)]}" widget="many2many_tags"/>
                                    <div class="text-muted" id="sale_coupon">
                                        Warehouses used to compute the stock quantities, when only single warehouse is in Magento
                                            and perform export product stock operation.
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_left_pane">
                                    <field name="is_import_product_stock" widget="boolean_toggle"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="is_import_product_stock" string="Import Product stock from Magento?"/>
                                    <div class="text-muted" id="sale_coupon">
                                        If checked, import Product Stock from Magento to Odoo
                                    </div>
                                    <div class="content-group" attrs="{'invisible' : ['|',('is_import_product_stock','=',False),('is_multi_warehouse_in_magento', '=', True)],'required' : [('is_import_product_stock','=',True)]}">
                                        <div>
                                            <label for="import_stock_warehouse" string="Import Stock Warehouse"/>
                                            <field name="import_stock_warehouse"/>
                                        </div>
                                        <div class="text-muted">
                                            Warehouse used to store stock quantities, when only single warehouse is in Magento
                                            and perform import product stock operation.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 o_setting_box" attrs="{'invisible': [('is_multi_warehouse_in_magento', '=', False)]}">
                                <div class="o_setting_right_pane">
                                    <div class="text-muted" id="sale_coupon">
                                        Set Import and export warehouses of inventory locations.
                                    </div>
                                    <button type="action" name="%(odoo_magento2_ept.action_magento_inventory_locations)d" string="Inventory Locations" icon="fa-arrow-right text-success" class="oe_link"/>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_right_pane">
                                    <label for="magento_stock_field" string="Magento Stock field"/>
                                    <field name="magento_stock_field" class="oe_inline" attrs="{'required':[('magento_instance_id','!=', False)]}"/>
                                    <div class="text-muted" id="sale_coupon">
                                        Select inventory field for Magento products
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </xpath>
            </field>
        </record>

        <record id="view_magento_website_config_settings" model="ir.ui.view">
            <field name="name">Magento Website Settings</field>
            <field name="model">res.config.settings</field>
            <field name="inherit_id" ref="base.res_config_settings_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//div[hasclass('settings')]" position="inside">
                    <div class="app_settings_block " data-string="Magento Websites"
                         data-key="odoo_magento2_ept_websites" groups="odoo_magento2_ept.group_magento_manager_ept">
                        <div name="magento_instance_config">
                            <h2 style="font-size:25px;background-color:#e9ecef;">Magento Instance</h2>
                            <div  class="row mt16 o_settings_container" >
                                <div class="col-12 o_setting_box">
                                    <label for="magento_instance_id" string="Select Instance" />
                                    <field name="magento_instance_id" widget="selection" class="oe_inline" />
                                </div>
                            </div>
                        </div>
                        <!-- Magento Websites -->
                        <div name="magento_website_config" attrs="{'invisible':[('magento_instance_id','=',False)]}">
                            <h2 style="font-size:25px;background-color:#e9ecef;">Magento Website</h2>
                            <div  class="row mt16 o_settings_container" >
                                <div class="col-12 col-lg-6 o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <label for="magento_website_id" string="Select Website"/>
                                        <field name="magento_website_id"  class="oe_inline" />
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div name="magento_website_config" attrs="{'invisible':[('magento_website_id','=',False)]}">
                            <div  class="row mt16 o_settings_container" >
                                <div class="col-12 col-lg-6 o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <label for="magento_website_warehouse_id" />
                                        <field name="magento_website_warehouse_id" class="oe_inline" />
                                        <div class="text-muted">Warehouse is used when import orders from Magento</div>
                                    </div>
                                </div>
                                <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_right_pane">
                                    <label for="magento_website_pricelist_ids" string="Pricelist"/>
                                    <field name="magento_website_pricelist_ids" widget="many2many_tags" class="oe_inline" attrs="{'required':[('magento_website_id','!=', False)]}"/>
                                    <div class="text-muted" id="sale_coupon">
                                        Product price will be taken/set from this pricelist if Catalog Price Scope is website.
                                    </div>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>
                </xpath>
            </field>
        </record>

        <record id="view_magento_storeview_config_settings" model="ir.ui.view">
            <field name="name">Magento Storeview Settings</field>
            <field name="model">res.config.settings</field>
            <field name="inherit_id" ref="base.res_config_settings_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//div[hasclass('settings')]" position="inside">
                    <div class="app_settings_block " data-string="Magento Storeview"
                         data-key="odoo_magento2_ept_storeviews" groups="odoo_magento2_ept.group_magento_manager_ept">
                        <div name="magento_instance_config">
                            <h2 style="font-size:25px;background-color:#e9ecef;">Magento Instance</h2>
                            <div  class="row mt16 o_settings_container" >
                                <div class="col-12 o_setting_box">
                                    <label for="magento_instance_id" string="Select Instance" />
                                    <field name="magento_instance_id" widget="selection" class="oe_inline" />
                                </div>
                            </div>
                        </div>
                        <!-- Magento Storeview -->
                        <div name="magento_storeview_config" attrs="{'invisible':[('magento_instance_id','=',False)]}">
                            <h2 style="font-size:25px;background-color:#e9ecef;">Magento Website</h2>
                            <div  class="row mt16 o_settings_container" >
                                <div class="col-12 col-lg-6 o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <label for="magento_website_id" string="Select Website"/>
                                        <field name="magento_website_id"  class="oe_inline" />
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div name="magento_storeview_config" attrs="{'invisible':[('magento_website_id','=',False)]}">
                            <h2 style="font-size:25px;background-color:#e9ecef;">Magento Storeview</h2>
                            <div  class="row mt16 o_settings_container" >
                                <div class="col-12 col-lg-6 o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <label for="magento_storeview_id" string="Select Storeview"/>
                                        <field name="magento_storeview_id"  class="oe_inline" />
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div name="magento_storeviewe_config" attrs="{'invisible':[('magento_storeview_id','=',False)]}">
                            <div  class="row mt16 o_settings_container" >
                                <div class="col-12 col-lg-6 o_setting_box">
                                    <div class="o_setting_right_pane">
                                        <label for="magento_team_id" />
                                        <field name="magento_team_id"  class="oe_inline" />
                                    </div>
                                </div>
                                <div class="col-12 col-lg-6 o_setting_box">
                                    <div class="o_setting_left_pane">
                                        <field name="is_use_odoo_order_sequence" widget="boolean_toggle"/>
                                    </div>
                                    <div class="o_setting_right_pane">
                                        <label for="is_use_odoo_order_sequence" string="Use Odoo Default Sequences?"/>
                                        <div class="text-muted" id="sale_coupon">
                                            If checked,it will use odoo order sequences while import order from magento.
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-lg-6 o_setting_box" attrs="{'invisible':[('is_use_odoo_order_sequence','=',True)]}">
                                    <div class="o_setting_right_pane">
                                        <label for="magento_sale_prefix" />
                                        <field name="magento_sale_prefix"  class="oe_inline" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </xpath>
            </field>
        </record>

        <record id="action_magento_config_settings" model="ir.actions.act_window">
            <field name="name">Settings</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.config.settings</field>
            <field name="view_id" ref="base.res_config_settings_view_form" />
            <field name="view_mode">form</field>
            <field name="target">inline</field>
            <field name="context">{'module' : 'odoo_magento2_ept'}</field>
        </record>

        <menuitem id="menu_magento_config_settings" name="Settings"
            parent="menu_configuration_root" sequence="1"
            action="action_magento_config_settings"/>
    </data>
</odoo>
