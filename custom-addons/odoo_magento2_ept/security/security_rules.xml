<odoo noupdate="1">
    <record model="ir.rule" id="magento_product_instance_rule">
        <field name="name">Magento Product Instance</field>
        <field name="model_id" ref="model_magento_product_product"/>
        <field name="groups" eval="[(4, ref('group_magento_user_ept'))]"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

<!--    <record model="ir.rule" id="magento_product_template_instance_rule">-->
<!--        <field name="name">Magento Product Template Instance</field>-->
<!--        <field name="model_id" ref="model_magento_product_template"/>-->
<!--        <field name="groups" eval="[(4, ref('group_magento_user_ept'))]"/>-->
<!--        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>-->
<!--    </record>-->

    <record model="ir.rule" id="magento_sale_orders_instance_rule">
        <field name="name">Magento Sale Orders by Instance</field>
        <field name="model_id" ref="model_sale_order"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

    <record model="ir.rule" id="magento_account_move_instance_rule">
        <field name="name">Magento Account Move by Instance</field>
        <field name="model_id" ref="model_account_move"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

    <record model="ir.rule" id="magento_stock_picking_instance_rule">
        <field name="name">Magento Stock Picking by Instance</field>
        <field name="model_id" ref="model_stock_picking"/>
        <field name="groups" eval="[(4, ref('odoo_magento2_ept.group_magento_user_ept'))]"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

    <record model="ir.rule" id="magento_res_partner_instance_rule">
        <field name="name">Magento Customer by Instance</field>
        <field name="model_id" ref="model_res_partner"/>
        <field name="groups" eval="[(4, ref('odoo_magento2_ept.group_magento_user_ept'))]"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

    <record model="ir.rule" id="magento_common_log_book_instance_rule">
        <field name="name">Magento Common Log Book by Instance</field>
        <field name="model_id" ref="model_common_log_book_ept"/>
        <field name="groups" eval="[(4, ref('odoo_magento2_ept.group_magento_user_ept'))]"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

    <record model="ir.rule" id="magento_order_data_queue_ept_instance_rule">
        <field name="name">Magento Order Data Queue by Instance</field>
        <field name="model_id" ref="model_magento_order_data_queue_ept"/>
        <field name="groups" eval="[(4, ref('odoo_magento2_ept.group_magento_user_ept'))]"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

     <record model="ir.rule" id="magento_order_data_queue_line_ept_instance_rule">
        <field name="name">Magento Order Data Queue Line by Instance</field>
        <field name="model_id" ref="model_magento_order_data_queue_line_ept"/>
        <field name="groups" eval="[(4, ref('group_magento_user_ept'))]"/>
         <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

    <record model="ir.rule" id="magento_product_log_book_instance_rule">
        <field name="name">Magento Product Log Book by Instance</field>
        <field name="model_id" ref="model_magento_product_log_book"/>
        <field name="groups" eval="[(4, ref('group_magento_user_ept'))]"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

    <record model="ir.rule" id="magento_delivery_carrier_instance_rule">
        <field name="name">Magento Delivery Carrier by Instance</field>
        <field name="model_id" ref="model_magento_delivery_carrier"/>
        <field name="groups" eval="[(4, ref('group_magento_user_ept'))]"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

    <record model="ir.rule" id="magento_payment_method_instance_rule">
        <field name="name">Magento Payment Method by Instance</field>
        <field name="model_id" ref="model_magento_payment_method"/>
        <field name="groups" eval="[(4, ref('group_magento_user_ept'))]"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

    <record model="ir.rule" id="magento_financial_status_instance_rule">
        <field name="name">Magento Financial Status by Instance</field>
        <field name="model_id" ref="model_magento_financial_status_ept"/>
        <field name="groups" eval="[(4, ref('group_magento_user_ept'))]"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

    <record model="ir.rule" id="magento_inventory_locations_instance_rule">
        <field name="name">Magento Inventory Locations by Instance</field>
        <field name="model_id" ref="model_magento_inventory_locations"/>
        <field name="groups" eval="[(4, ref('group_magento_user_ept'))]"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

    <record model="ir.rule" id="magento_cron_configuration_instance_rule">
        <field name="name">Magento Cron Configuration by Instance</field>
        <field name="model_id" ref="model_magento_cron_configuration"/>
        <field name="groups" eval="[(4, ref('group_magento_user_ept'))]"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

     <record model="ir.rule" id="magento_customer_data_queue_ept_instance_rule">
        <field name="name">Magento Customer Data Queue by Instance</field>
        <field name="model_id" ref="model_magento_customer_data_queue_ept"/>
        <field name="groups" eval="[(4, ref('group_magento_user_ept'))]"/>
         <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

    <record model="ir.rule" id="magento_customer_data_queue_line_ept_instance_rule">
        <field name="name">Magento Customer Data Queue Line by Instance</field>
        <field name="model_id" ref="model_magento_customer_data_queue_line_ept"/>
        <field name="groups" eval="[(4, ref('group_magento_user_ept'))]"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

    <record model="ir.rule" id="magento_import_export_ept_instance_rule">
        <field name="name">Magento Import Export by Instance Rule</field>
        <field name="model_id" ref="model_magento_import_export_ept"/>
        <field name="groups" eval="[(4, ref('group_magento_user_ept'))]"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

    <record model="ir.rule" id="magento_storeview_instance_rule">
        <field name="name">Magento Storeview by Instance</field>
        <field name="model_id" ref="model_magento_storeview"/>
        <field name="groups" eval="[(4, ref('group_magento_user_ept'))]"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

    <record model="ir.rule" id="magento_website_instance_rule">
        <field name="name">Magento Website by Instance</field>
        <field name="model_id" ref="model_magento_website"/>
        <field name="groups" eval="[(4, ref('group_magento_user_ept'))]"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>

    <record model="ir.rule" id="magento_instance_by_instance_rule">
        <field name="name">Magento Instance Filter Rule</field>
        <field name="model_id" ref="model_magento_instance"/>
        <field name="groups" eval="[(4, ref('group_magento_user_ept'))]"/>
        <field name="domain_force">['|',(1 if user.has_group('odoo_magento2_ept.group_magento_manager_ept') else 0,'=',1),('magento_instance_id.user_ids', 'in', user.id)]</field>
    </record>
</odoo>